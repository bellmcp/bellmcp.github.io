<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<title>ภาควิชาคณิตศาสตร์ คณะวิทยาศาสตร์ จุฬาลงกรณ์มหาวิทยาลัย</title>
	<link type="text/css" href="https://bellmcp.github.io/comsys/default.css" rel="stylesheet">
</head>
<body>
	<table width="800" height="80" border="0" align="center" cellpadding="0" cellspacing="0" bgcolor="#FFFFFF" class="table">
		<tr valign="top">
			<td valign="top"><img src="http://pioneer.netserv.chula.ac.th/~achatcha/Images/banner.png" width="800" height="80" /></td>
		</tr>
	</table>
	<table width="800" border="0" align="center" cellpadding="5" cellspacing="0" bgcolor="#FFFFFF" class="table">
		<tr valign="top">
			<td align="right" valign="middle"><a href="http://pioneer.netserv.chula.ac.th/~achatcha/index.html">Back to the first page</a> </td>
		</tr>
	</table>
	<table width="800" height="100%" border="0" align="center" cellpadding="0" cellspacing="0" bgcolor="#FFFFFF" class="table">
		<tr valign="top">
			<td align="center" valign="top"><br>
				<strong>2301274 Computer Systems</strong><br>
				<br>
				<table width="600" border="1" cellpadding="5" cellspacing="0" bordercolor="#FF6699" class="table">
					<tr valign="top">
						<td align="left" valign="middle" bgcolor="#FFA8C5">Contents</td>
					</tr>
					<tr valign="top">
						<td align="left" valign="top">
							<!--a href="http://pioneer.netserv.chula.ac.th/~achatcha/2301274/CourseSyllabus.pdf" target="_blank"-->Course Syllabus (ดูใน CU-CAS)<!--/a--><br>
							<a href="http://pioneer.netserv.chula.ac.th/~achatcha/2301274/LogicWorks5.zip" target="_blank"><img src="http://pioneer.netserv.chula.ac.th/~achatcha/Images/DownloadLogicWorks5.bmp"></a><br>
							<a href="http://pioneer.netserv.chula.ac.th/~achatcha/2301274/KarnaughMinimizer2.zip" target="_blank"><img src="http://pioneer.netserv.chula.ac.th/~achatcha/Images/DownloadKarnaughMinimizer2.bmp"></a><br>
							<br>
							<b>Slides (Textbook)</b><br>
							<a href="http://pioneer.netserv.chula.ac.th/~achatcha/2301274/Intro.pptx" target=_blank>Intro</a><br>
							<a href="http://pioneer.netserv.chula.ac.th/~achatcha/2301274/Chapter01.pptx" target=_blank>Chapter 01</a><br>				
							<a href="http://pioneer.netserv.chula.ac.th/~achatcha/2301274/Chapter02.pptx" target=_blank>Chapter 02</a><br>	
							<a href="http://pioneer.netserv.chula.ac.th/~achatcha/2301274/Chapter03.pptx" target=_blank>Chapter 03</a><br>	
							<a href="http://pioneer.netserv.chula.ac.th/~achatcha/2301274/Chapter04.pptx" target=_blank>Chapter 04</a><br>
							<a href="http://pioneer.netserv.chula.ac.th/~achatcha/2301274/Chapter05.pptx" target=_blank>Chapter 05</a><br>
							<a href="http://pioneer.netserv.chula.ac.th/~achatcha/2301274/Chapter06.pptx" target=_blank>Chapter 06</a><br>
							<a href="http://pioneer.netserv.chula.ac.th/~achatcha/2301274/Chapter07.pptx" target=_blank>Chapter 07</a><br>
							<a href="http://pioneer.netserv.chula.ac.th/~achatcha/2301274/Midterm.pdf" target=_blank>ตัวอย่างข้อสอบ Midterm</a><br>
							<a href="http://pioneer.netserv.chula.ac.th/~achatcha/2301274/Chapter08.pptx" target=_blank>Chapter 08</a><br>
							<a href="http://pioneer.netserv.chula.ac.th/~achatcha/2301274/Chapter09.pptx" target=_blank>Chapter 09</a><br>
							<a href="http://pioneer.netserv.chula.ac.th/~achatcha/2301274/Chapter10.pptx" target=_blank>Chapter 10</a><br>
							<a href="http://pioneer.netserv.chula.ac.th/~achatcha/2301274/Chapter11.pptx" target=_blank>Chapter 11</a><br>
							<a href="http://pioneer.netserv.chula.ac.th/~achatcha/2301274/Chapter12.pptx" target=_blank>Chapter 12</a><br>
							<a href="http://pioneer.netserv.chula.ac.th/~achatcha/2301274/Final.pdf" target=_blank>ตัวอย่างข้อสอบ Final</a><br>
							<br>
							<a href="http://pioneer.netserv.chula.ac.th/~achatcha/2301274/Stack_CPU_(Control_Unit).xlsx" target=_blank>Control Unit (Stack CPU)</a><br>
							<br>
							<b>เอกสารคำสอน</b><br>
							<a href="http://pioneer.netserv.chula.ac.th/~achatcha/2301274/MyBook_01_ComputerEvolution.pdf" target=_blank>บทที่ 1 - วิวัฒนาการของคอมพิวเตอร์</a><br>	
							<a href="http://pioneer.netserv.chula.ac.th/~achatcha/2301274/MyBook_02_NumberSystems.pdf" target=_blank>บทที่ 2 - ระบบจำนวน</a><br>
							<a href="http://pioneer.netserv.chula.ac.th/~achatcha/2301274/MyBook_03_TransistorsAndGates.pdf" target=_blank>บทที่ 3 - ทรานซิสเตอร์และเกต</a><br>
							<a href="http://pioneer.netserv.chula.ac.th/~achatcha/2301274/MyBook_04_CombinationalCircuits.pdf" target=_blank>บทที่ 4 - วงจรเชิงผสม</a><br>
							<a href="http://pioneer.netserv.chula.ac.th/~achatcha/2301274/MyBook_05_SequentialCircuits.pdf" target=_blank>บทที่ 5 - วงจรเชิงลำดับ</a><br>
							<a href="http://pioneer.netserv.chula.ac.th/~achatcha/2301274/MyBook_06_InputOutputDevices.pdf" target=_blank>บทที่ 6 - อุปกรณ์อินพุตเอาพุต</a><br>
							<a href="http://pioneer.netserv.chula.ac.th/~achatcha/2301274/MyBook_07_MemoryHierarchy.pdf" target=_blank>บทที่ 7 - ลำดับชั้นของหน่วยความจำ</a><br>
							<a href="http://pioneer.netserv.chula.ac.th/~achatcha/2301274/MyBook_08_LogicWorks.pdf" target=_blank>บทที่ 8 - โปรแกรม LogicWorks</a><br>
							<a href="http://pioneer.netserv.chula.ac.th/~achatcha/2301274/MyBook_09_StackCPU.pdf" target=_blank>บทที่ 9 - Stack CPU</a><br>
							<a href="http://pioneer.netserv.chula.ac.th/~achatcha/2301274/MyBook_10_StackProgramming.pdf" target=_blank>บทที่ 10 - Stack Programming</a><br>
							<a href="http://pioneer.netserv.chula.ac.th/~achatcha/2301274/MyBook_11_LC3Processor.pdf" target=_blank>บทที่ 11 - LC3 Processor</a><br>
							<a href="http://pioneer.netserv.chula.ac.th/~achatcha/2301274/MyBook_12_LC3Programming.pdf" target=_blank>บทที่ 12 - LC3 Programming</a><br>				
							<a href="http://pioneer.netserv.chula.ac.th/~achatcha/2301274/MyBook_13_MicroprocessorArchitecture.pdf" target=_blank>บทที่ 13 - Microprocessor Architecture</a><br>	
							<a href="http://pioneer.netserv.chula.ac.th/~achatcha/2301274/MyBook_14_CalculatorProject.pdf" target=_blank>บทที่ 14 - Calculator Project</a><br>	
							<a href="http://pioneer.netserv.chula.ac.th/~achatcha/2301274/MyBook_15_QuantumComputation.pdf" target=_blank>บทที่ 15 - Quantum Computation</a><br>					
							<br>
							<a href="http://pioneer.netserv.chula.ac.th/~achatcha/2301274/Simulator_Orig.html" target="_blank">Stack Simulator</a><br>
							<a href="http://pioneer.netserv.chula.ac.th/~achatcha/2301274/Simulator_Pimvard.html" target="_blank">Stack Simulator</a> ของ พิมวาสน์ เจริญพร (5233687223) เพิ่ม address เป็น 50 ช่อง<br>
							<a href="http://pioneer.netserv.chula.ac.th/~achatcha/2301274/Simulator_Suttichort.zip" target="_blank">Stack Simulator</a> ของ ศุทธิโชติ สารธรรม (5233703623) ใช้ address ได้มากเท่าที่ต้องการ<br>
							<a href="http://pioneer.netserv.chula.ac.th/~achatcha/2301274/Simulator_Thanatat.rar" target="_blank">Stack Simulator</a> ของ ธนทัต ทำทัน (5433666223) มีครบทุก feature ใช้ง่ายมากๆ<br>
							<a href="http://pioneer.netserv.chula.ac.th/~achatcha/2301274/Simulator_New.html" target="_blank">Stack Simulator</a> ตัวใหม่สุด (ของผมเอง)<br>
							<br>
							<a href="http://pioneer.netserv.chula.ac.th/~achatcha/2301274/Stack_CPU_(Control_Unit).xlsx" target=_blank>Stack CPU (control unit)</a><br>
							<br>
							<a href="http://pioneer.netserv.chula.ac.th/~achatcha/2301274/LC3Simulator.zip" target="_blank">LC3 Simulator</a><br>
							<br>
							<a href="http://pioneer.netserv.chula.ac.th/~achatcha/2301274/RecursiveProblems.pdf" target="_blank">Recursive Problems</a><br>
							<br>
							คะแนนสอบ midterm<br>
							<a href="http://pioneer.netserv.chula.ac.th/~achatcha/2301274/ScoreMidterm_new.png" target="_blank"><img src="ScoreMidterm_new.jpg" width="100%"></a><br>

							<table width="100%">
								<tr valign="top">
									<th></th>
									<th><p style="font-size:2px"><font color="black">findGCD</p></th>
										<th><p style="font-size:2px"><font color="black">binarySearch</p></th>
											<th><p style="font-size:2px"><font color="black">decimalToBinary</p></th>
												<th><p style="font-size:2px"><font color="black">isPalindrome</p></th>
												</tr>
												<tr valign="top">
													<th><p style="font-size:2px"><font color="black">Java</p></th>
														<td valign="top"><p style="font-size:2px"><font color="black">public static void main(String[] args) { <br>
															System.out.println(gcd(12, 8)); <br>
														} <br>
														<br>
														static int gcd(int a, int b) { <br>
														if (b == 0) { <br>
														return a; <br>
													} else { <br>
													return gcd(b, a % b); <br>
												} <br>
											} <br></p></td>
											<td valign="top"><p style="font-size:2px"><font color="black">public static void main(String[] args) { <br>
												int[] data = {1, 3, 5, 7, 9, 11, 13, 15, 17, 19}; <br>
												System.out.println(binarySearch(data, 7, 0, 9)); <br>
											} <br>
											<br>
											static int binarySearch(int[] data, int key, int start, int stop) { <br>
											if (start > stop) { <br>
											return -1; <br>
										} <br>
										int m = (stop + start) / 2; <br>
										if (data[m] == key) { <br>
										return m; <br>
									} <br>
									if (key < data[m]) { <br>
									return binarySearch(data, key, start, m - 1); <br>
								} else { <br>
								return binarySearch(data, key, m + 1, stop); <br>
							} <br>
						} <br></p></td>
						<td valign="top"><p style="font-size:2px"><font color="black">public static void main(String[] args) { <br>
							System.out.println(dec2bin(10, 1)); <br>
						} <br>
						<br>
						static int dec2bin(int x, int y) { <br>
						if (x == 0) { <br>
						return 0; <br>
					} <br>
					return (y * (x & 1)) + dec2bin(x >> 1, 10 * y); <br>
				} <br></p></td>
				<td valign="top"><p style="font-size:2px"><font color="black">public static void main(String[] args) { <br>
					char[] s = {'a', 'b', 'd', 's'}; <br>
					System.out.println(palindrome(s, 0, 3)); <br>
				} <br>
				<br>
				static boolean palindrome(char[] s, int start, int stop) { <br>
				if (stop <= start) { <br>
				return true; <br>
			} <br>
			if (s[start] != s[stop]) { <br>
			return false; <br>
		} else { <br>
		return palindrome(s, start + 1, stop - 1); <br>
	} <br>
} <br></p></td>
</tr>
<tr valign="top">
	<th><p style="font-size:2px"><font color="black">Stack</p></th>
		<td valign="top"><p style="font-size:2px"><font color="black">lit <br>
			15 <br>
			lit <br>
			2 <br>
			call :div <br>
			halt <br>
			<br>
			:div <br>
			over <br>
			over <br>
			- <br>
			dup <br>
			if :end <br>
			dup <br>
			lit <br>
			x80 <br>
			xor <br>
			lit <br>
			x80 <br>
			and <br>
			if :abs <br>
			call :div <br>
			exit <br>
			<br>
			:abs <br>
			swap <br>
			drop <br>
			lit <br>
			0 <br>
			swap <br>
			- <br>
			call :div <br>
			exit <br>
			<br>
			:end <br>
			drop <br>
			exit <br></p></td>
			<td valign="top"><p style="font-size:2px"><font color="black">lit <br>
				1          ;1st <br>
				lit <br>
				xff <br>
				! <br>
				lit <br>
				2 <br>
				lit <br>
				xfe <br>
				! <br>
				lit <br>
				3 <br>
				lit <br>
				xfd <br>
				! <br>
				lit <br>
				4 <br>
				lit <br>
				xfc <br>
				! <br>
				lit <br>
				5     ;last <br>
				lit <br>
				xfb <br>
				! <br>
				lit <br>
				5           ;len     edtb <br>
				lit <br>
				xef <br>
				! <br>
				lit <br>
				0           ;start <br>
				lit <br>
				xee <br>
				! <br>
				lit <br>
				-1           ;mid <br>
				lit <br>
				xed <br>
				! <br>
				lit <br>
				0           ;end <br>
				lit <br>
				xec <br>
				! <br>
				lit <br>
				-1          ;key  edtb <br>
				lit <br>
				xeb <br>
				! <br>
				lit <br>
				xef <br>
				@ <br>
				lit <br>
				xec <br>
				! <br>
				lit <br>
				xee <br>
				@ <br>
				lit <br>
				xec <br>
				@ <br>
				+ <br>
				call :mid <br>
				halt <br>
				<br>
				:mid <br>
				lit <br>
				2 <br>
				- <br>
				lit <br>
				xed <br>
				dup <br>
				@ <br>
				lit <br>
				1 <br>
				+ <br>
				swap <br>
				! <br>
				dup <br>
				lit <br>
				x80 <br>
				xor <br>
				lit <br>
				x80 <br>
				and <br>
				if :check <br>
				call :mid <br>
				exit <br>
				<br>
				:check <br>
				drop <br>
				lit <br>
				xff <br>
				lit <br>
				xed <br>
				@ <br>
				- <br>
				@ <br>
				lit <br>
				xeb <br>
				@ <br>
				- <br>
				dup <br>
				if :found <br>
				call :update <br>
				exit <br>
				<br>
				:update <br>
				dup <br>
				lit <br>
				x80 <br>
				and <br>
				dup <br>
				if :lower <br>
				call :greater <br>
				exit <br>
				<br>
				:greater <br>
				lit <br>
				xec <br>
				@ <br>
				lit <br>
				xee <br>
				@ <br>
				- <br>
				if :404      ;start=end <br>
				lit <br>
				xed <br>
				@ <br>
				lit <br>
				1 <br>
				+ <br>
				lit <br>
				xee <br>
				! <br>
				lit <br>
				xee <br>
				@ <br>
				lit <br>
				xec <br>
				@ <br>
				+ <br>
				lit <br>
				-1         ;reset mid <br>
				lit <br>
				xed <br>
				! <br>
				call :mid <br>
				exit <br>
				<br>
				:lower <br>
				lit <br>
				xec <br>
				@ <br>
				lit <br>
				xee <br>
				@ <br>
				- <br>
				if :404      ;start=end <br>
				lit <br>
				xec <br>
				@ <br>
				lit <br>
				xee <br>
				@ <br>
				- <br>
				lit <br>
				x80 <br>
				xor <br>
				lit <br>
				x80 <br>
				and <br>
				if :404      ;start>end <br>
				lit <br>
				xed <br>
				@ <br>
				lit <br>
				1 <br>
				- <br>
				lit <br>
				xec <br>
				! <br>
				lit <br>
				xee <br>
				@ <br>
				lit <br>
				xec <br>
				@ <br>
				+ <br>
				lit <br>
				-1         ;reset mid <br>
				lit <br>
				xed <br>
				! <br>
				call :mid <br>
				exit <br>
				<br>
				:found <br>
				drop <br>
				lit <br>
				x2d <br>
				lit <br>
				1 <br>
				exit <br>
				<br>
				:404 <br>
				lit <br>
				x2d <br>
				lit <br>
				-1 <br>
				exit <br></p></td>
				<td valign="top"><p style="font-size:2px"><font color="black">lit <br>
					100     ;dec <br>
					lit <br>
					xff <br>
					! <br>
					lit <br>
					0       ;/2 <br>
					lit <br>
					xfe <br>
					! <br>
					lit <br>
					xfd       ;lsb pointer <br>
					lit <br>
					xfd <br>
					! <br>
					lit <br>
					xff <br>
					@ <br>
					dup <br>
					call :mod <br>
					halt <br>
					<br>
					:mod <br>
					if :store <br>
					dup <br>
					lit <br>
					1 <br>
					- <br>
					if :store <br>
					dup <br>
					lit <br>
					2 <br>
					- <br>
					dup <br>
					call :mod <br>
					exit <br>
					<br>
					:store <br>
					lit <br>
					xfd <br>
					dup <br>
					@ <br>
					lit <br>
					1 <br>
					- <br>
					swap <br>
					! <br>
					lit <br>
					xfd <br>
					@ <br>
					! <br>
					lit <br>
					xff <br>
					@ <br>
					dup <br>
					call :div <br>
					exit <br>
					<br>
					:div <br>
					if :update <br>
					dup <br>
					lit <br>
					1 <br>
					- <br>
					if :update <br>
					lit <br>
					2 <br>
					- <br>
					lit <br>
					xfe <br>
					dup <br>
					@ <br>
					lit <br>
					1 <br>
					+ <br>
					swap <br>
					! <br>
					dup <br>
					call :div <br>
					exit <br>
					<br>
					:update <br>
					lit <br>
					xff <br>
					@ <br>
					if :end <br>
					lit <br>
					xfe <br>
					@ <br>
					lit <br>
					xff <br>
					! <br>
					lit <br>
					0 <br>
					lit <br>
					xfe <br>
					! <br>
					lit <br>
					xff <br>
					@ <br>
					dup <br>
					call :mod <br>
					exit <br>
					<br>
					:end <br>
					lit <br>
					-1     ;intervene between ans and other <br>
					lit <br>
					xf5     ;msb <br>
					@ <br>
					lit <br>
					xf6 <br>
					@ <br>
					lit <br>
					xf7 <br>
					@ <br>
					lit <br>
					xf8 <br>
					@ <br>
					lit <br>
					xf9 <br>
					@ <br>
					lit <br>
					xfa <br>
					@ <br>
					lit <br>
					xfb <br>
					@ <br>
					lit <br>
					xfc         ;lsb <br>
					@ <br>
					exit <br></p></td>
					<td valign="top"><p style="font-size:2px"><font color="black">lit <br>
						x70     ;1st <br>
						lit <br>
						xff <br>
						! <br>
						lit <br>
						x61 <br>
						lit <br>
						xfe <br>
						! <br>
						lit <br>
						x63 <br>
						lit <br>
						xfd <br>
						! <br>
						lit <br>
						x63 <br>
						lit <br>
						xfc <br>
						! <br>
						lit <br>
						x61 <br>
						lit <br>
						xfb <br>
						! <br>
						lit <br>
						x70       ;last <br>
						lit <br>
						xfa <br>
						! <br>
						lit <br>
						5        ;length-1 editable <br>
						lit <br>
						xef <br>
						! <br>
						lit <br>
						xff <br>
						lit <br>
						xef <br>
						@ <br>
						- <br>
						lit <br>
						xee      ;last pointer <br>
						! <br>
						lit <br>
						xff <br>
						dup <br>
						call :par <br>
						halt <br>
						<br>
						:par <br>
						@ <br>
						lit <br>
						xee <br>
						@ <br>
						@ <br>
						- <br>
						if :update <br>
						call :badend <br>
						exit <br>
						<br>
						:update <br>
						lit <br>
						xee <br>
						@ <br>
						lit <br>
						1 <br>
						+ <br>
						lit <br>
						xee <br>
						! <br>
						lit <br>
						1 <br>
						- <br>
						dup <br>
						lit <br>
						xee <br>
						@ <br>
						- <br>
						if :end <br>
						dup <br>
						lit <br>
						xee <br>
						@ <br>
						- <br>
						lit <br>
						x80 <br>
						xor <br>
						lit <br>
						x80 <br>
						and <br>
						if :end <br>
						dup <br>
						call :par <br>
						exit <br>
						<br>
						:end <br>
						drop <br>
						lit <br>
						1 <br>
						exit <br>
						<br>
						:badend <br>
						drop <br>
						lit <br>
						-1 <br>
						exit <br></p></td>
					</tr>
					<tr valign="top">
						<th><p style="font-size:2px"><font color="black">LC3</p></th>
							<td valign="top"><p style="font-size:2px"><font color="black">.orig x3000 <br>
								ld r6,tos <br>
								ld r0,a <br>
								add r6,r6,#-1 <br>
								str r0,r6,#0 <br>
								ld r0,b <br>
								add r6,r6,#-1 <br>
								str r0,r6,#0 <br>
								add r6,r6,#-1 <br>
								<br>
								loop ldr r0,r6,#1 <br>
								not r0,r0 <br>
								add r0,r0,#1 <br>
								ldr r1,r6,#2 <br>
								add r2,r0,r1 <br>
								str r2,r6,#2 <br>
								brz ans <br>
								brn abs <br>
								brp loop <br>
								<br>
								ans ldr r0,r6,#1 <br>
								str r0,r6,#0 <br>
								halt <br>
								<br>
								abs ldr r2,r6,#2 <br>
								not r2,r2 <br>
								add r2,r2,#1 <br>
								str r2,r6,#0 <br>
								halt <br>
								<br>
								tos .fill xfe00 <br>
								a .fill 15 <br>
								b .fill 10 <br>
								.end <br></p></td>
								<td valign="top"><p style="font-size:2px"><font color="black">.orig x3000 <br>
									ld r6,tos <br>
									ld r0,start <br>
									str r0,r6,#0 <br>
									add r6,r6,#-1 <br>
									ld r0,mid <br>
									str r0,r6,#0 <br>
									add r6,r6,#-1 <br>
									ld r0,end <br>
									str r0,r6,#0 <br>
									add r6,r6,#-1 <br>
									ld r0,key <br>
									str r0,r6,#0 <br>
									add r6,r6,#-1 <br>
									<br>
									lea r4,arr       ;1stpointer <br>
									ldr r0,r6,#2     ;end <br>
									ldr r1,r6,#4     ;start <br>
									ld r3,mid        ;mid <br>
									add r2,r0,r1 <br>
									<br>
									cen <br>
									add r3,r3,#1 <br>
									add r2,r2,#-2 <br>
									brn chk <br>
									jsr cen <br>
									<br>
									chk <br>
									add r5,r4,r3 <br>
									ldr r1,r6,#1      ;key <br>
									ldr r2,r5,#0 <br>
									not r2,r2 <br>
									add r2,r2,#1 <br>
									add r1,r1,r2 <br>
									brz found <br>
									brn lower          ;< <br>
									brp greater        ;> <br>
									<br>
									lower <br>
									ldr r1,r6,#2       ;end <br>
									ldr r2,r6,#4       ;start <br>
									not r2,r2 <br>
									add r2,r2,#1 <br>
									add r1,r1,r2 <br>
									brnz nf            ;start>=end <br>
									add r3,r3,#-1 <br>
									str r3,r6,#2 <br>
									<br>
									ldr r0,r6,#2     ;end <br>
									ldr r1,r6,#4     ;start <br>
									ld r3,mid        ;mid <br>
									add r2,r0,r1 <br>
									jsr cen <br>
									<br>
									greater <br>
									ldr r1,r6,#2       ;end <br>
									ldr r2,r6,#4       ;start <br>
									not r2,r2 <br>
									add r2,r2,#1 <br>
									add r1,r1,r2 <br>
									brz nf <br>
									add r3,r3,#1 <br>
									str r3,r6,#4 <br>
									<br>
									ldr r0,r6,#2     ;end <br>
									ldr r1,r6,#4     ;start <br>
									ld r3,mid        ;mid <br>
									add r2,r0,r1 <br>
									jsr cen <br>
									<br>
									found <br>
									ld r0,one <br>
									out <br>
									halt <br>
									<br>
									nf <br>
									ld r0,minus <br>
									out <br>
									ld r0,one <br>
									out <br>
									halt <br>
									<br>
									arr   .fill 1 <br>
									.fill 2 <br>
									.fill 3 <br>
									.fill 4 <br>
									.fill 5 <br>
									start .fill 0 <br>
									mid   .fill -1 <br>
									end   .fill 5         ;size <br>
									tos   .fill xfe00 <br>
									key   .fill 5 <br>
									one   .fill 49 <br>
									minus .fill 45 <br>
									.end <br></p></td>
									<td valign="top"><p style="font-size:2px"><font color="black">.orig x3000    ;xfdfd = lsb <br>
										ld r6,tos <br>
										ld r3,two <br>
										ld r0,dec       ;dec <br>
										add r6,r6,#-1 <br>
										str r0,r6,#0 <br>
										ld r0,zero      ;/2 <br>
										add r6,r6,#-1 <br>
										str r0,r6,#0 <br>
										add r6,r6,#-1 <br>
										add r2,r6,#0 <br>
										<br>
										ldr r0,r2,#2 <br>
										not r3,r3 <br>
										add r3,r3,#1 <br>
										mod add r0,r0,r3 <br>
										brn checklast <br>
										brz store <br>
										add r1,r0,#-1 <br>
										brz store <br>
										brp mod <br>
										<br>
										store str r0,r6,#0 <br>
										add r6,r6,#-1 <br>
										ldr r0,r2,#2 <br>
										jsr div <br>
										<br>
										checklast add r0,r0,#1 <br>
										brz store1 <br>
										add r0,r0,#2 <br>
										brz store0 <br>
										<br>
										store0 ld r0,zero <br>
										str r0,r6,#0 <br>
										add r6,r6,#-1 <br>
										jsr end <br>
										<br>
										store1 ld r0,one <br>
										str r0,r6,#0 <br>
										add r6,r6,#-1 <br>
										jsr end <br>
										<br>
										div brz update <br>
										add r4,r0,#-1 <br>
										brz update <br>
										add r0,r0,r3 <br>
										ldr r5,r2,#1 <br>
										add r5,r5,#1 <br>
										str r5,r2,#1 <br>
										add r0,r0,#0 <br>
										jsr div <br>
										<br>
										update ldr r0,r2,#2 <br>
										brz end <br>
										ldr r5,r2,#1 <br>
										str r5,r2,#2 <br>
										and r5,r5,#0 <br>
										str r5,r2,#1 <br>
										ldr r0,r2,#2 <br>
										jsr mod <br>
										<br>
										end ld r6,tos <br>
										add r6,r6,#-2 <br>
										ld r5,tmp <br>
										str r5,r6,#0 <br>
										add r6,r6,#-8 <br>
										ld r1,ascii <br>
										loop ldr r0,r6,#0 <br>
										brn exit <br>
										add r0,r0,r1 <br>
										str r0,r6,#0 <br>
										add r6,r6,#1 <br>
										jsr loop <br>
										<br>
										exit  <br>
										ld r0,tos <br>
										ld r1,s <br>
										str r1,r0,#0 <br>
										ld r1,n <br>
										str r1,r0,#-1 <br>
										ld r1,a <br>
										str r1,r0,#-2 <br>
										add r0,r0,#-10 <br>
										puts  <br>
										halt <br>
										<br>
										tos .fill xfe00 <br>
										ascii .fill 48 <br>
										dec .fill 152 <br>
										zero .fill 0 <br>
										one .fill 1 <br>
										two .fill 2 <br>
										tmp .fill -1 <br>
										a .fill 97 <br>
										n .fill 110 <br>
										s .fill 115 <br>
										.end <br></p></td>
										<td valign="top"><p style="font-size:2px"><font color="black">.orig x3000 <br>
											lea r0,char     ;char arr addr <br>
											ld r2,len       ;len-1 <br>
											add r1,r0,r2    ;last pointer <br>
											ldr r3,r0,#0    ;1st char <br>
											ldr r4,r1,#0    ;last char <br>
											<br>
											par  <br>
											and r5,r5,#0 <br>
											not r4,r4 <br>
											add r4,r4,#1 <br>
											add r5,r3,r4 <br>
											brz update <br>
											jsr badend <br>
											<br>
											update <br>
											add r0,r0,#1 <br>
											add r1,r1,#-1 <br>
											not r5,r1 <br>
											add r5,r5,#1 <br>
											add r5,r0,r5 <br>
											brzp goodend <br>
											ldr r3,r0,#0 <br>
											ldr r4,r1,#0 <br>
											jsr par <br>
											halt <br>
											<br>
											badend <br>
											and r0,r0,#0 <br>
											ld r1,ascii <br>
											add r0,r0,#-3 <br>
											add r0,r0,r1 <br>
											out <br>
											add r0,r0,#4 <br>
											out <br>
											halt <br>
											<br>
											goodend <br>
											and r0,r0,#0 <br>
											ld r1,ascii <br>
											add r0,r0,#1 <br>
											add r0,r0,r1 <br>
											out <br>
											halt <br>
											<br>
											len   .fill 3      ;editable <br>
											char  .fill x70    ;editable <br>
											.fill x61 <br>
											.fill x61 <br>
											.fill x70 <br>
											ascii .fill 48 <br>
											.end <br></p></td>
										</tr>
									</table><br>
									กระดาษคำตอบ <a href="https://drive.google.com/open?id=1tlxQfwsgclYk7C6tArt93oycUszeVcOJ" target="_blank">ห้อง 1(80 MB)</a> &nbsp; <a href="File.html" target="_blank">ห้อง 2(80 MB)</a><br>
									<br>
								</td>
							</tr>
						</table>
					</td>
				</tr>
			</table>
			<table width="800" border="0" align="center" cellpadding="5" cellspacing="0" bgcolor="#FFFFFF" class="table">
				<tr valign="top">
					<td align="right" valign="middle"><a href="http://pioneer.netserv.chula.ac.th/~achatcha/index.html">Back to the first page</a> </td>
				</tr>
			</table>
		</body>
		</html>
